<!DOCTYPE html>
<html style="display: none;" lang="en">
    <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">












    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Jest玩转异步代码测试 | 
        
        Hanks&#39; blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/assets/img/favicon.png">
    <link rel="icon" href="/assets/img/favicon.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content="
在软件开发中，我们通常通过单元测试（Unit Test, UT）来确保编写的代码符合软件需求，UT也往往作为自动化集成的一部分存在于软件工程中。说来惭愧，笔者在过去的工作中没有写过UT，最近主动接受了为项目做UT的任务，以弥补这方面的经验不足。本文主要介绍使用Jest对TypeScript项目中异步代码做UT的一些实践。
">
    <meta name="keywords" content="null">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.en.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/tomorrow.min.css?HIeSQl6y3t6jBuxHvLPGSA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?ezyEvm8ST5CGfpA+kFFi1g==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Hanks&#39; blog">
    <meta name="msapplication-starturl" content="https://github.com/Hankszhang/2018/08/25/ts-jest/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Hanks&#39; blog">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/assets/img/favicon.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://github.com/Hankszhang/2018/08/25/ts-jest/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Jest玩转异步代码测试 | Hanks&#39; blog">
    <meta property="og:image" content="/assets/img/favicon.png">
    <meta property="og:description" content="
在软件开发中，我们通常通过单元测试（Unit Test, UT）来确保编写的代码符合软件需求，UT也往往作为自动化集成的一部分存在于软件工程中。说来惭愧，笔者在过去的工作中没有写过UT，最近主动接受了为项目做UT的任务，以弥补这方面的经验不足。本文主要介绍使用Jest对TypeScript项目中异步代码做UT的一些实践。
">
    

    
        <meta property="article:published_time" content="Sat Aug 25 2018 16:33:12 GMT+0800">
        <meta property="article:modified_time" content="Sat Oct 27 2018 10:46:24 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://github.com/Hankszhang/2018/08/25/ts-jest/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://github.com/Hankszhang/2018/08/25/ts-jest/index.html",
    "headline": "Jest玩转异步代码测试",
    "datePublished": "Sat Aug 25 2018 16:33:12 GMT+0800",
    "dateModified": "Sat Oct 27 2018 10:46:24 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Hanks",
        "image": {
            "@type": "ImageObject",
            "url": "/assets/img/avatar.png"
        },
        "description": "Stay curious and keep learning"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Hanks&#39; blog",
        "logo": {
            "@type":"ImageObject",
            "url": "/assets/img/favicon.png"
        }
    },
    "keywords": "null",
    "description": "
在软件开发中，我们通常通过单元测试（Unit Test, UT）来确保编写的代码符合软件需求，UT也往往作为自动化集成的一部分存在于软件工程中。说来惭愧，笔者在过去的工作中没有写过UT，最近主动接受了为项目做UT的任务，以弥补这方面的经验不足。本文主要介绍使用Jest对TypeScript项目中异步代码做UT的一些实践。
",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Jest"><span class="post-toc-number">1.</span> <span class="post-toc-text">Jest</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#准备工作"><span class="post-toc-number">2.</span> <span class="post-toc-text">准备工作</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Test-case"><span class="post-toc-number">3.</span> <span class="post-toc-text">Test case</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#测试异步代码"><span class="post-toc-number">4.</span> <span class="post-toc-text">测试异步代码</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#done关键字"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">done关键字</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#返回Promise"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">返回Promise</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#async-await"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">async/await</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#总结"><span class="post-toc-number">5.</span> <span class="post-toc-text">总结</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#参考文献"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">参考文献</span></a></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Jest玩转异步代码测试
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/assets/img/avatar.png" width="44px" height="44px" alt="Author Avatar">
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Hanks</strong>
        <span>Aug 25, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">Read this article on other devices</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACV0lEQVR42u3aQW7DMAwEQP//0+kDgrhLUlKMYHQyENXW6GCxa16vnx4XHh4eHh4eHh7ew3hXPN7/qvzg4j2ba8PDw8M7wkuWlS/0fU5yz1Vz8PDw8E7yPi36/jqfXwVUn4WHh4f3fF5yePQYeHh4eL/Hu59ZnZNvEB4eHt7TeNXSNgHPY9+jWQseHh5ezMs/Mp2/Pvp9Dw8PDy/gTV7WSTCRLP21dODh4eHt5lWjhGqYu7ZBIdkUPDw8vDO8tU0D1bI44RWCDzw8PLzNvPsCNwfcs6uAXimPh4eHd4aXw5LHV1uvJkfRx5Xg4eHhHeStaplKYoX812rsi4eHh7eb1yudq9FtdcsmYDw8PLyTvEm8mxTT+Qb1noiHh4d3kpcXr0npnMcc1cOjmVLj4eHhLeX9M7UVzq7dlPKhgoeHh7eZ1yt/81+rTQn53ZphBB4eHt6Y17vpJLSttiDkgTIeHh7eSd68CaAXQ1Qj4KSBAA8PD+9bvF6oWr2uBiKjnjI8PDy8pbzkRtFLufWKnwcWeHh4eE/gVYOAydHSK/Gjpis8PDy8I7ykCWDVzGpsER1geHh4eF/i5c0EeUvBvrIbDw8P7ySvOiYv8ckmNg8GPDw8vA28Kx6rNmLtZ7bC9z08PDy8pbx8odVFTyLjpIGg8B8DHh4e3gbevBU134Ik1OgdUXh4eHjP5BU+5McHQO9Q2XIw4OHh4W2rOfOXeL5leWPB9nMPDw8Pb1EYkQcWSbPU2u3Aw8PDO8mrPnhVUd5j/3Oc4OHh4W3m/d7Aw8PDw8PDw8N7wPgDNCylgdf2bJsAAAAASUVORK5CYII=">
    
</ul>

    

    <!-- Tags (bookmark) -->
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;Views
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Jest玩转异步代码测试&url=https://github.com/Hankszhang/2018/08/25/ts-jest/index.html&pic=https://github.com/Hankszhang/assets/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                Share to Weibo
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Jest玩转异步代码测试&url=https://github.com/Hankszhang/2018/08/25/ts-jest/index.html&via=Hanks" target="_blank">
            <li class="mdl-menu__item">
                Share to Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://github.com/Hankszhang/2018/08/25/ts-jest/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://github.com/Hankszhang/2018/08/25/ts-jest/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Hanks&#39; blog&title=Jest玩转异步代码测试&summary=前端之路漫漫，其修远兮，吾将上下而求索&pics=https://github.com/Hankszhang/assets/img/favicon.png&url=https://github.com/Hankszhang/2018/08/25/ts-jest/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <blockquote>
<p>在软件开发中，我们通常通过单元测试（Unit Test, UT）来确保编写的代码符合软件需求，UT也往往作为自动化集成的一部分存在于软件工程中。说来惭愧，笔者在过去的工作中没有写过UT，最近主动接受了为项目做UT的任务，以弥补这方面的经验不足。本文主要介绍使用Jest对TypeScript项目中异步代码做UT的一些实践。</p>
</blockquote>
<a id="more"></a>
<h2 id="Jest"><a href="#Jest" class="headerlink" title="Jest"></a>Jest</h2><p><a href="https://jestjs.io/" target="_blank" rel="noopener">Jest</a>是一个优秀的JS代码测试框架，它能够对几乎所有的JS代码进行测试，尤其是<code>React</code>(毕竟都是FB爸爸的亲儿子)。</p>
<p>选择Jest来做UT主要是因为它具有以下几个特点：</p>
<ul>
<li>开箱即用，几乎零配置集成到项目中；</li>
<li>测试运行速度快，反馈及时；</li>
<li>丰富的mock接口，可以mock模块、类、同步代码、异步代码等几乎所有常见的测试场景。</li>
</ul>
<p>更多关于Jest的介绍及其API文档请参阅<a href="https://jestjs.io/" target="_blank" rel="noopener">官方文档</a>。下面直接进入正题。</p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol>
<li><p>安装jest依赖，这里需要额外安装<code>ts-jest</code>和<code>@types/jest</code>两个依赖包来支持TS。</p>
<pre><code class="js">yarn add --dev jest ts-jest @types/jest
</code></pre>
</li>
<li><p>在项目根目录添加<code>jest.config.js</code>文件，作为jest的配置文件，jest会根据该文件中的配置来执行测试任务，如指定测试文件所在的目录、是否需要收集覆盖率信息等。配置文件一般长这样：</p>
<pre><code class="js">module.exports = {
transform: {&#39;^.+\\.tsx?$&#39;: &#39;ts-jest&#39;},
testMatch: [&#39;**/__tests__/**/?(*.)+(spec|test).(js|ts)?(x)&#39;],
testPathIgnorePatterns: [&#39;/node_modules/&#39;, &#39;lib/&#39;],
moduleFileExtensions: [&#39;ts&#39;, &#39;tsx&#39;, &#39;js&#39;, &#39;jsx&#39;, &#39;json&#39;, &#39;node&#39;],
verbose: true,
bail: true,
collectCoverage: true,
collectCoverageFrom: [&#39;src/*.ts&#39;],
coverageDirectory: &#39;__tests__/coverage/&#39;
}
</code></pre>
</li>
<li><p>设置test任务执行入口 —— 在<code>package.json</code>中添加如下命令，便可以通过<code>yarn test</code>执行测试任务。</p>
<pre><code class="json">&quot;scripts&quot;: {
&quot;test&quot;: &quot;jest&quot;
}
</code></pre>
</li>
</ol>
<p>完成上述准备工作后，我们就可以愉快地开始写test case了。</p>
<h2 id="Test-case"><a href="#Test-case" class="headerlink" title="Test case"></a>Test case</h2><p>为了便于文件的组织管理，我们将所有的包含test case的文件都放在<code>__tests__</code>文件夹下。</p>
<p>一个典型的测试文件（以<code>index.spec.ts</code>为例）应该长成这样：</p>
<pre><code class="typescript">describe(&#39;Test index&#39;, () =&gt; {
  it(&#39;test case 1&#39;, () =&gt; {
    const tmp = &#39;123&#39;;
    expect(tmp).toBe(&#39;123);
  });
  it(&#39;test case 2&#39;, () =&gt; {
    const tmp = &#39;456&#39;;
    expect(tmp).toBe(&#39;456);
  });
  // ...
});
</code></pre>
<p>其中<code>describe</code>表示一个测试集，每个<code>it</code>表示一个test case。<code>expect</code>语句用于断言该条测试是否通过，一个test case中可以有任意多个<code>expect</code>语句，只有所有断言都为真，该test case才通过。</p>
<p>下面我们借由一个测试类的例子来熟悉如何使用jest书写test case。</p>
<p>在测试类的时候，一般需要测试某个对象是否是该类的实例，类的创建实例的时候是否执行了构造函数中的某些代码等等。<br><code>jest</code>提供了几个api来满足上述需求：</p>
<ul>
<li><code>beforeEach</code>：当前测试集<code>describe</code>范围内，定义在每个test case执行前执行的代码，常用于执行一些初始化工作</li>
<li><code>.toBeInstanceOf()</code>：检查某个对象是某个类的实例</li>
<li><code>jest.spyOn(Object, method)</code>：为对象上的某个方法创建一个mock函数，并track该方法</li>
<li><code>.toHaveBeenCalledWith(params)</code>和<code>toHaveBeenCalled()</code>：检查某个方法是否被调用</li>
</ul>
<p>代码简易实现如下：</p>
<pre><code class="typescript">describe(&#39;Test Service Class&#39;, () =&gt; {
  let service: Service;
  beforeEach(() =&gt; {
    // 每个test case前都new一个实例
    service = new Service(serviceConfig);
  });

  it(&#39;Service constructor has been called&#39;, () =&gt; {
    // new出来的实例service应该是Service的实例
    expect(service).toBeInstanceOf(Service);
  });

  it(&#39;Service startup and shutdown normally&#39;, async () =&gt; {
    // track service实例上的startup和shutdown方法
    // 当他们被调用的时候，jest就能追踪到
    const startup = jest.spyOn(service, &#39;startup&#39;);
    const shutdown = jest.spyOn(service, &#39;shutdown&#39;);
    // 手动调用service的startup方法
    await service.startup(startupConfig);
    // startup方法应该被调用了，且传入的参数为startupConfig
    expect(startup).toHaveBeenCalledWith(startupConfig);

    service.shutdown();
    // shutdown方法应该被调用了
    expect(shutdown).toHaveBeenCalled();
  });
});
</code></pre>
<p>读者可能已经注意到了，在第二个test case中，我们使用了<code>async/await</code>语法。<br>这其实是jest支持测试异步代码的一种写法，下面主要介绍如何用jest测试异步代码，因为这也是JS的UT中最主要的部分。</p>
<h2 id="测试异步代码"><a href="#测试异步代码" class="headerlink" title="测试异步代码"></a>测试异步代码</h2><p>我们知道，JS世界里充满了异步代码。<br>正常情况下测试代码是同步执行的，但当我们待测的代码是异步的时候，就会有问题了，会导致test case已经结束了，但是我们的异步代码并没有执行，从而导致异步代码没有被测到。那怎么办呢？<br>对于当前test case来说，异步代码什么时候执行它并不知道，因此解决方法很简单。当有异步代码的时候，test case跑完同步代码后不立即结束，而是等结束的通知，当异步代码执行完后再告诉jest：“好了，异步代码执行完了，你可以结束任务了”。</p>
<p>jest提供了三种方案来测试异步代码，下面我们分别来看一下。</p>
<h3 id="done关键字"><a href="#done关键字" class="headerlink" title="done关键字"></a><code>done</code>关键字</h3><p>当我们的test函数中出现了异步回调函数时，可以给test函数传入一个<code>done</code>参数，它是一个函数类型的参数。如果test函数传入了<code>done</code>，jest就会等到<code>done</code>被调用才会结束当前的test case，如果<code>done</code>没有被调用，则该test自动不通过测试。</p>
<pre><code class="js">it(&#39;Test async code with done&#39;, (done) =&gt; {
  setTimeout(() =&gt; {
    // expect something
    done();
  }, 0)
});
</code></pre>
<p>上面的代码中，我们给test函数传入了<code>done</code>参数，在<code>setTimeout</code>的回调函数中调用了<code>done</code>。这样，setTimeout的回调中异步执行的测试代码就能够被执行。</p>
<h3 id="返回Promise"><a href="#返回Promise" class="headerlink" title="返回Promise"></a>返回Promise</h3><p>如果代码中使用了<code>Promise</code>，则可以通过返回<code>Promise</code>来处理异步代码，jest会等该promise的状态转为<code>resolve</code>时才会结束，如果promise被<code>reject</code>了，则该test不通过。</p>
<pre><code class="js">// 假设 doAsync() 返回一个promise，resolve的结果为字符串&#39;example&#39;
it(&#39;Test async code with promise&#39;, () =&gt; {
  expect.assertions(1);
  return doAsync().then((data) =&gt; {
    expect(data).toBe(&#39;example&#39;);
  });
});

it(&#39;Test promise with an error&#39;, () =&gt; {
  expect.assertions(1);
  return doAsync().catch(e =&gt; expect(e).toMatch(&#39;error&#39;));
});

</code></pre>
<p>注意，上面的第二个test可用于测试promise返回reject的情况。这里用<code>.catch</code>来捕获promise返回的reject，当promise返回reject时，才会执行expect语句。而这里的<code>expect.assertions(1)</code>用于确保该test中有一个expect被执行了。</p>
<p>对于<code>Promise</code>的情况，jest还提供了一对匹配符<code>resolves/rejects</code>，其实只是上面写法的语法糖。上面的代码用匹配符可以改写为：</p>
<pre><code class="js">// 假设 doAsync() 返回一个promise，resolve的结果为字符串&#39;example&#39;
it(&#39;Test async code with promise&#39;, () =&gt; {
  expect.assertions(1);
  return expect(doAsync()).resolves.toBe(&#39;example&#39;);
  });
});

it(&#39;Test promise with an error&#39;, () =&gt; {
  expect.assertions(1);
  return expect(doAsync()).rejects.toMatch(&#39;error&#39;));
});
</code></pre>
<h3 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h3><p>我们知道使用<code>async/await</code>其实是<code>Promise</code>的语法糖，可以更优雅地写异步代码，jest当然也支持这种语法。下面我们看一下上面例子的<code>async/await</code>版本实现。</p>
<pre><code class="js">// 假设 doAsync() 返回一个promise，resolve的结果为字符串&#39;example&#39;
it(&#39;Test async code with promise&#39;, async () =&gt; {
  expect.assertions(1);
  const data = await doAsync();
  expect(data).toBe(&#39;example&#39;);
  });
});
</code></pre>
<p><code>async/await</code>也可以和<code>resolves/rejects</code>一起使用：</p>
<pre><code class="js">// 假设 doAsync() 返回一个promise，resolve的结果为字符串&#39;example&#39;
it(&#39;Test async code with promise&#39;, async () =&gt; {
  expect.assertions(1);
  await expect(doAsync()).resolves.toBe(&#39;example&#39;);
  });
});
</code></pre>
<p>上面这几种异步测试代码的写法其实没有孰优孰劣之分，读者应视使用场景而决定用那种方式，毕竟我们的目标总是希望更优雅而简单地写test case。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本文从实践出发，首先简单介绍了<code>jest</code>及将其集成到typescript项目中需要做的准备工作，然后通过两个案例讲解了如何用jest写UT和UT集。在实践中，测试JS异步代码是非常常见的场景，本文详细讲解了jest中编写异步代码测试用例的3种主要方式。</p>
<h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><ul>
<li><a href="https://jestjs.io/" target="_blank" rel="noopener">Jest官方文档</a></li>
</ul>

        
    

    
</div>


                

                <!-- Post Comments -->
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2019/03/10/rust-abi/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Newer
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/07/06/vue-dragarea/" id="post_nav-older" class="next-content">
            Older
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/assets/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/assets/img/avatar.png" alt="Hanks's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        hankszhang918@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: hankszhang918@gmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                Home
            </a>
        </li>
        
    

    <!-- Archives  -->
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                Categories
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Development/">Development<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Experience/">Experience<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Frontend/">Frontend<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/Rust/">Rust<span class="sidebar_archives-count">1</span></a>
            </li></ul>
        </li>
        
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                Number of articles
                <span class="sidebar-badge">12</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/Hankszhang" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/hanks-zhang-8" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Hanks' blog
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?wgjW/HuQG9JDgvPDPoRAng==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("sm_js","/js/smoothscroll.js?tNQK2Tw2SUL8a1Scn/Mgew==", true)</script>
    





    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>







<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
